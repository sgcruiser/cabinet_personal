(this.webpackJsonpcabinet_personal=this.webpackJsonpcabinet_personal||[]).push([[5],{10:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return A}));var c=r(3),n={registerRequest:Object(c.b)("auth/registerRequest"),registerSuccess:Object(c.b)("auth/registerSuccess"),registerError:Object(c.b)("auth/registerError"),loginRequest:Object(c.b)("auth/loginRequest"),loginSuccess:Object(c.b)("auth/loginSuccess"),loginError:Object(c.b)("auth/loginError"),logoutRequest:Object(c.b)("auth/logoutRequest"),logoutSuccess:Object(c.b)("auth/logoutSuccess"),logoutError:Object(c.b)("auth/logoutError"),getCurrentUserRequest:Object(c.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(c.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(c.b)("auth/getCurrentUserError")},a=r(21),s=r(8),o=r.n(s),u=r(18),i=r.n(u),l=r(16);i.a.defaults.baseURL="https://connections-api.herokuapp.com";var b,j,d,O,f,h=function(e){i.a.defaults.headers.common.Authorization="Bearer ".concat(e)},g=function(){i.a.defaults.headers.common.Authorization=""},p={register:function(e){return function(){var t=Object(a.a)(o.a.mark((function t(r){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(n.registerRequest()),t.prev=1,t.next=4,i.a.post("/users/signup",e);case 4:c=t.sent,a=c.data,h(a.token),r(n.registerSuccess(a)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r(n.registerError(t.t0.message)),l.b.error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(a.a)(o.a.mark((function t(r){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(n.loginRequest()),t.prev=1,t.next=4,i.a.post("/users/login",e);case 4:c=t.sent,a=c.data,h(a.token),r(n.loginSuccess(a)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r(n.loginError(t.t0.message)),l.b.error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(n.logoutRequest()),e.prev=1,e.next=4,i.a.post("/users/logout");case 4:g(),t(n.logoutSuccess()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(n.logoutError(e.t0.message)),l.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(a.a)(o.a.mark((function e(t,r){var c,a,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r(),a=c.auth.token){e.next=3;break}return e.abrupt("return");case 3:return h(a),t(n.getCurrentUserRequest()),e.prev=5,e.next=8,i.a.get("/users/current");case 8:s=e.sent,u=s.data,t(n.getCurrentUserSuccess(u)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),t(n.getCurrentUserError(e.t0.message)),l.b.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,r){return e.apply(this,arguments)}}()}},m=r(2),v=r(11),x={name:null,email:null},_=function(e,t){return t.payload},C=function(e,t){return t.payload.user},k=function(e,t){return t.payload.token},S=Object(c.c)(x,(b={},Object(m.a)(b,n.registerSuccess,C),Object(m.a)(b,n.loginSuccess,C),Object(m.a)(b,n.logoutSuccess,(function(){return x})),Object(m.a)(b,n.getCurrentUserSuccess,_),b)),E=Object(c.c)(null,(j={},Object(m.a)(j,n.registerSuccess,k),Object(m.a)(j,n.loginSuccess,k),Object(m.a)(j,n.logoutSuccess,(function(){return null})),j)),N=function(){return!0},U=function(){return!1},w=Object(c.c)(!1,(d={},Object(m.a)(d,n.registerSuccess,N),Object(m.a)(d,n.loginSuccess,N),Object(m.a)(d,n.getCurrentUserSuccess,N),Object(m.a)(d,n.registerError,U),Object(m.a)(d,n.loginError,U),Object(m.a)(d,n.getCurrentUserError,U),Object(m.a)(d,n.logoutSuccess,U),d)),q=Object(c.c)(!1,(O={},Object(m.a)(O,n.registerRequest,N),Object(m.a)(O,n.registerSuccess,U),Object(m.a)(O,n.registerError,U),Object(m.a)(O,n.loginRequest,N),Object(m.a)(O,n.loginSuccess,U),Object(m.a)(O,n.loginError,U),Object(m.a)(O,n.logoutRequest,N),Object(m.a)(O,n.logoutSuccess,U),Object(m.a)(O,n.logoutError,U),Object(m.a)(O,n.getCurrentUserRequest,N),Object(m.a)(O,n.getCurrentUserSuccess,U),Object(m.a)(O,n.getCurrentUserError,U),O)),R=Object(c.c)(null,(f={},Object(m.a)(f,n.registerError,_),Object(m.a)(f,n.loginError,_),Object(m.a)(f,n.logoutError,_),Object(m.a)(f,n.getCurrentUserError,_),f)),y=Object(v.b)({user:S,token:E,isAuthenticated:w,loading:q,error:R}),A={getIsAuthenticated:function(e){return e.auth.isAuthenticated},getUserEmail:function(e){return e.auth.user.email},getLoading:function(e){return e.auth.loading}}},114:function(e,t,r){},115:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(27),s=r.n(a),o=r(19),u=r(9),i=r(51),l=r(3),b=r(22),j=r(52),d=r.n(j),O=(r(67),r(10)),f=r(38),h=[b.a,b.f,b.b,b.c,b.d,b.e],g={key:"auth",storage:d.a,whitelist:["token"]},p=Object(l.a)({reducer:{auth:Object(b.g)(g,O.b),contacts:f.c},middleware:function(e){return e({serializableCheck:{ignoredActions:[].concat(h)}})},devTools:!1}),m={store:p,persistor:Object(b.h)(p)},v=r(6),x=r(16),_=r(12),C=r(53),k=r.n(C),S=r(1);function E(e){var t=e.children;return Object(S.jsx)("div",{className:k.a.container,children:t})}E.defaultProps={children:[]};var N=r(25),U=r.n(N);function w(){var e=Object(u.c)(O.c.getIsAuthenticated);return Object(S.jsx)("nav",{children:Object(S.jsxs)("ul",{className:U.a.list,children:[Object(S.jsx)("li",{className:U.a.item,children:Object(S.jsx)(o.b,{exact:!0,to:_.a.home,className:U.a.link,activeClassName:U.a["link--active"],children:"Home"})}),e&&Object(S.jsx)("li",{children:Object(S.jsx)(o.b,{to:_.a.contacts,className:U.a.link,activeClassName:U.a["link--active"],children:"Contacts"})})]})})}var q=r(24),R=r.n(q);function y(){return Object(S.jsxs)("ul",{className:R.a.list,children:[Object(S.jsx)("li",{className:R.a.item,children:Object(S.jsx)(o.b,{to:_.a.register,className:R.a.link,activeClassName:R.a["link--active"],children:"Sign up"})}),Object(S.jsx)("li",{className:R.a.item,children:Object(S.jsx)(o.b,{exact:!0,to:_.a.login,className:R.a.link,activeClassName:R.a["link--active"],children:"Log in"})})]})}var A=r(26),T=r.n(A);function z(){var e=Object(u.c)(O.c.getUserEmail),t=Object(u.b)(),r=Object(c.useCallback)((function(){return t(O.a.logOut())}),[t]);return Object(S.jsxs)("div",{className:T.a.profile,children:[Object(S.jsx)("div",{className:T.a.thumb,children:Object(S.jsx)("img",{src:"https://eu.ui-avatars.com/api/?background=79bbda&color=cf735b&length=1&font-size=0.618&name=".concat(e),alt:"avatar",title:"Your avatar",className:T.a.avatar})}),Object(S.jsxs)("span",{className:T.a.welcome,children:["Welcome, ",Object(S.jsx)("span",{className:T.a.email,children:e})]}),Object(S.jsx)("button",{type:"button",title:"Log out","aria-label":"Log out",onClick:r,className:T.a.button,children:"Logout"})]})}var F=r(55),L=r.n(F);function P(){var e=Object(u.c)(O.c.getIsAuthenticated);return Object(S.jsxs)("header",{className:L.a.header,children:[Object(S.jsx)(w,{}),e?Object(S.jsx)(z,{}):Object(S.jsx)(y,{})]})}var I=r(30),M=r.n(I);function H(){return Object(S.jsx)("footer",{className:M.a.footer,children:Object(S.jsxs)("small",{className:M.a.text,children:["\xa9 ",(new Date).getFullYear()," Developed by",Object(S.jsx)("a",{href:"https://github.com/sgcruiser",target:"_blank",rel:"noopener noreferrer",title:"Developer's Github","aria-label":"Developer's Github",className:M.a.link,children:Object(S.jsx)("span",{className:M.a.developer,children:"sgcruiser"})})]})})}var D=r(32),B=r(20),G=r(31),Y=["redirectTo","children"];function J(e){var t=e.redirectTo,r=e.children,c=Object(G.a)(e,Y),n=Object(u.c)(O.c.getIsAuthenticated);return Object(S.jsx)(v.b,Object(B.a)(Object(B.a)({},c),{},{children:n?r:Object(S.jsx)(v.a,{to:t})}))}var W=["redirectTo","children"];function Z(e){var t=e.redirectTo,r=e.children,c=Object(G.a)(e,W),n=Object(u.c)(O.c.getIsAuthenticated);return Object(S.jsx)(v.b,Object(B.a)(Object(B.a)({},c),{},{children:n&&c.restricted?Object(S.jsx)(v.a,{to:t}):r}))}r(112);var V=Object(c.lazy)((function(){return Promise.all([r.e(0),r.e(3)]).then(r.bind(null,157))})),Q=Object(c.lazy)((function(){return Promise.all([r.e(9),r.e(2)]).then(r.bind(null,153))})),K=Object(c.lazy)((function(){return Promise.all([r.e(0),r.e(6)]).then(r.bind(null,155))})),X=Object(c.lazy)((function(){return Promise.all([r.e(0),r.e(4)]).then(r.bind(null,156))})),$=Object(c.lazy)((function(){return Promise.all([r.e(0),r.e(1)]).then(r.bind(null,158))}));function ee(){var e=Object(u.b)();return Object(c.useEffect)((function(){e(O.a.getCurrentUser())}),[e]),Object(S.jsxs)(E,{children:[Object(S.jsx)(P,{}),Object(S.jsx)(c.Suspense,{fallback:Object(S.jsx)(D.a,{}),children:Object(S.jsxs)(v.d,{children:[Object(S.jsx)(Z,{exact:!0,path:_.a.home,children:Object(S.jsx)(V,{})}),Object(S.jsx)(J,{path:_.a.contacts,redirectTo:_.a.login,children:Object(S.jsx)(Q,{})}),Object(S.jsx)(Z,{path:_.a.register,restricted:!0,redirectTo:_.a.contacts,children:Object(S.jsx)(K,{})}),Object(S.jsx)(Z,{path:_.a.login,restricted:!0,redirectTo:_.a.contacts,children:Object(S.jsx)(X,{})}),Object(S.jsx)(Z,{children:Object(S.jsx)($,{})})]})}),Object(S.jsx)(H,{}),Object(S.jsx)(x.a,{autoClose:2500})]})}r(113),r(114);s.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(u.a,{store:m.store,children:Object(S.jsx)(i.a,{loading:Object(S.jsx)(D.a,{}),persistor:m.persistor,children:Object(S.jsx)(o.a,{children:Object(S.jsx)(ee,{})})})})}),document.getElementById("root"))},12:function(e,t,r){"use strict";t.a={home:"/",contacts:"/contacts",register:"/register",login:"/login"}},24:function(e,t,r){e.exports={list:"AuthNav_list__2t0Wt",item:"AuthNav_item__39ADc",link:"AuthNav_link__3b0-h","link--active":"AuthNav_link--active__HGSQZ"}},25:function(e,t,r){e.exports={list:"Navigation_list__2pVZl",item:"Navigation_item__2PJes",link:"Navigation_link__2AzF2","link--active":"Navigation_link--active__3m0Tz"}},26:function(e,t,r){e.exports={profile:"UserMenu_profile__20CSZ",thumb:"UserMenu_thumb__2b5A0",avatar:"UserMenu_avatar__TOwif",welcome:"UserMenu_welcome__3bGYb",email:"UserMenu_email__orHBU",button:"UserMenu_button__1dNnH"}},30:function(e,t,r){e.exports={footer:"AppFooter_footer__1NddH",text:"AppFooter_text__3a54f",developer:"AppFooter_developer__2Vo0d",link:"AppFooter_link__2hC9l",name:"AppFooter_name__3F_gp"}},32:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var c=r(56),n=r.n(c),a=r(57),s=r.n(a),o=r(1);function u(){return Object(o.jsx)("div",{className:s.a.loader,children:Object(o.jsx)(n.a,{type:"TailSpin",color:"#cf735b",height:198,width:198})})}},38:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return k})),r.d(t,"c",(function(){return F})),r.d(t,"d",(function(){return H}));var c,n,a,s=r(3),o=Object(s.b)("contacts/fetchContactsRequest"),u=Object(s.b)("contacts/fetchContactsSuccess"),i=Object(s.b)("contacts/fetchContactsError"),l=Object(s.b)("contacts/addContactsRequest"),b=Object(s.b)("contacts/addContactSuccess"),j=Object(s.b)("contacts/addContactError"),d=Object(s.b)("contacts/deleteContactsRequest"),O=Object(s.b)("contacts/deleteContactSuccess"),f=Object(s.b)("contacts/deleteContactError"),h=Object(s.b)("contacts/change-filter"),g={fetchContactsRequest:o,fetchContactsSuccess:u,fetchContactsError:i,addContactRequest:l,addContactSuccess:b,addContactError:j,deleteContactRequest:d,deleteContactSuccess:O,deleteContactError:f,changeFilter:h},p=r(21),m=r(8),v=r.n(m),x=r(18),_=r.n(x),C=r(16),k={fetchContacts:function(){return function(){var e=Object(p.a)(v.a.mark((function e(t){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g.fetchContactsRequest()),e.prev=1,e.next=4,_.a.get("/contacts");case 4:r=e.sent,c=r.data,t(g.fetchContactsSuccess(c)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(g.fetchContactsError(e.t0.message)),C.b.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},addContact:function(e,t){return function(){var r=Object(p.a)(v.a.mark((function r(c){var n,a,s;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={name:e,number:t},c(g.addContactRequest()),r.prev=2,r.next=5,_.a.post("/contacts",n);case 5:a=r.sent,s=a.data,C.b.success("Contact has been added"),c(g.addContactSuccess(s)),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(2),c(g.addContactError(r.t0.message)),C.b.error(r.t0.message);case 15:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e){return r.apply(this,arguments)}}()},deleteContact:function(e){return function(){var t=Object(p.a)(v.a.mark((function t(r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(g.deleteContactRequest()),t.prev=1,t.next=4,_.a.delete("/contacts/".concat(e));case 4:C.b.info("Contact has been deleted"),r(g.deleteContactSuccess(e)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),r(g.deleteContactError(t.t0.message)),C.b.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},S=r(2),E=r(40),N=r(11),U=Object(s.c)([],(c={},Object(S.a)(c,u,(function(e,t){return function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)}))}(t.payload)})),Object(S.a)(c,b,(function(e,t){return[t.payload].concat(Object(E.a)(e))})),Object(S.a)(c,O,(function(e,t){return function(e,t){return e.filter((function(e){return e.id!==t}))}(e,t.payload)})),c)),w=function(e,t){return t.payload},q=Object(s.c)("",Object(S.a)({},h,w)),R=function(){return!0},y=function(){return!1},A=Object(s.c)(!1,(n={},Object(S.a)(n,o,R),Object(S.a)(n,u,y),Object(S.a)(n,i,y),Object(S.a)(n,l,R),Object(S.a)(n,b,y),Object(S.a)(n,j,y),Object(S.a)(n,d,R),Object(S.a)(n,O,y),Object(S.a)(n,f,y),n)),T=function(){return null},z=Object(s.c)(null,(a={},Object(S.a)(a,i,w),Object(S.a)(a,j,w),Object(S.a)(a,f,w),Object(S.a)(a,o,T),Object(S.a)(a,u,T),Object(S.a)(a,l,T),Object(S.a)(a,b,T),Object(S.a)(a,d,T),Object(S.a)(a,O,T),a)),F=Object(N.b)({items:U,filter:q,loading:A,error:z}),L=r(33),P=function(e){return e.contacts.items},I=function(e){return e.contacts.filter},M=Object(L.a)([P,I],(function(e,t){var r=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(r)}))})),H={getContacts:P,getFilter:I,getLoading:function(e){return e.contacts.loading},getError:function(e){return e.contacts.error},getfilteredContacts:M}},53:function(e,t,r){e.exports={container:"Container_container__1HYUW"}},55:function(e,t,r){e.exports={header:"AppBar_header__1grwj"}},57:function(e,t,r){e.exports={loader:"Loader_loader__PjqUT"}}},[[115,7,8]]]);
//# sourceMappingURL=main.3cfc2eec.chunk.js.map